package th.ac.kmitl.it.prip.fractal;

import static org.junit.Assert.*;

import java.io.IOException;
import java.util.Arrays;
import java.util.Collection;

import javax.sound.sampled.UnsupportedAudioFileException;

import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.Parameterized;

@RunWith(Parameterized.class)
public class AudioReadTest {
	private String input;
	private float[] expected;

	@Parameterized.Parameters
	public static Collection<Object[]> audioSamplesMap() {
		return Arrays.asList(new Object[][] { { "synth-8", new float[] { 0.0f, 924.0f, 4.0f, 302.0f, 8.0f, 174.0f,
				12.0f, 118.0f, 16.0f, 84.0f, 19.0f, 62.0f, 22.0f, 46.0f, 25.0f, 34.0f, 27.0f, 24.0f, 29.0f, 17.0f,
				30.0f, 11.0f, 31.0f, 6.0f, 31.0f, 2.0f, 31.0f, 0.0f, 30.0f, -2.0f, 29.0f, -3.0f, 28.0f, -4.0f, 26.0f,
				-4.0f, 24.0f, -3.0f, 21.0f, -2.0f, 19.0f, -1.0f, 16.0f, 1.0f, 13.0f, 2.0f, 10.0f, 4.0f, 7.0f, 6.0f,
				4.0f, 7.0f, 2.0f, 9.0f, -1.0f, 10.0f, -3.0f, 11.0f, -5.0f, 12.0f, -6.0f, 12.0f, -7.0f, 12.0f, -8.0f,
				12.0f, -9.0f, 11.0f, -9.0f, 10.0f, -8.0f, 9.0f, -8.0f, 7.0f, -7.0f, 5.0f, -6.0f, 3.0f, -5.0f, 1.0f,
				-3.0f, -1.0f, -2.0f, -4.0f, 0.0f, -6.0f, 1.0f, -8.0f, 3.0f, -11.0f, 4.0f, -13.0f, 5.0f, -14.0f, 5.0f,
				-16.0f, 6.0f, -17.0f, 6.0f, -18.0f, 5.0f, -19.0f, 4.0f, -19.0f, 3.0f, -19.0f, 1.0f, -18.0f, -2.0f,
				-17.0f, -5.0f, -15.0f, -8.0f, -14.0f, -12.0f, -12.0f, -16.0f, -10.0f, -21.0f, -7.0f, -26.0f, -5.0f,
				-32.0f, -3.0f, -38.0f, -1.0f, -45.0f, 0.0f, -52.0f, 1.0f, -59.0f, 2.0f, -68.0f, 0.0f, -78.0f, -3.0f,
				-91.0f, -9.0f, -109.0f, -21.0f, -137.0f, -47.0f, -195.0f, -119.0f, -407.0f, -830.0f, 925.0f, 301.0f,
				163.0f, 156.0f, 72.0f, 115.0f, 37.0f, 95.0f, 19.0f, 82.0f, 9.0f, 73.0f, 3.0f, 65.0f, 0.0f, 58.0f, -2.0f,
				52.0f, -2.0f, 46.0f, -1.0f, 41.0f, 0.0f, 35.0f, 1.0f, 30.0f, 3.0f, 25.0f, 5.0f, 21.0f, 7.0f, 16.0f,
				9.0f, 12.0f, 11.0f, 8.0f, 13.0f, 5.0f, 15.0f, 2.0f, 16.0f, 0.0f, 17.0f, -2.0f, 17.0f, -4.0f, 17.0f,
				-5.0f, 17.0f, -6.0f, 16.0f, -6.0f, 15.0f, -6.0f, 14.0f, -6.0f, 13.0f, -5.0f, 11.0f, -4.0f, 9.0f, -3.0f,
				6.0f, -1.0f, 4.0f, 0.0f, 2.0f, 2.0f, -1.0f, 3.0f, -3.0f, 5.0f, -5.0f, 6.0f, -7.0f, 7.0f, -9.0f, 8.0f,
				-10.0f, 8.0f, -12.0f, 8.0f, -12.0f, 8.0f, -13.0f, 7.0f, -13.0f, 6.0f, -13.0f, 5.0f, -12.0f, 3.0f,
				-11.0f, 1.0f, -10.0f, -1.0f, -9.0f, -4.0f, -7.0f, -7.0f, -6.0f, -10.0f, -4.0f, -13.0f, -2.0f, -16.0f,
				0.0f, -19.0f, 1.0f, -22.0f, 2.0f, -25.0f, 3.0f, -28.0f, 3.0f, -30.0f, 3.0f, -32.0f, 2.0f, -34.0f, 1.0f,
				-35.0f, -2.0f, -36.0f, -5.0f, -36.0f, -10.0f, -36.0f, -17.0f, -35.0f, -25.0f, -34.0f, -37.0f, -33.0f,
				-52.0f, -31.0f, -73.0f, -29.0f, -106.0f, -26.0f, -163.0f, -25.0f, -293.0f, -26.0f, -984.0f, 194.0f,
				842.0f, 1.0f, 299.0f, 0.0f, 180.0f, 3.0f, 125.0f, 6.0f, 93.0f, 9.0f, 71.0f, 13.0f, 55.0f, 16.0f, 42.0f,
				19.0f, 32.0f, 21.0f, 23.0f, 23.0f, 17.0f, 25.0f, 11.0f, 26.0f, 6.0f, 27.0f, 3.0f, 28.0f, 0.0f, 27.0f,
				-2.0f, 27.0f, -3.0f, 26.0f, -4.0f, 24.0f, -4.0f, 23.0f, -4.0f, 20.0f, -3.0f, 18.0f, -2.0f, 16.0f, -1.0f,
				13.0f, 1.0f, 10.0f, 2.0f, 7.0f, 4.0f, 5.0f, 6.0f, 2.0f, 7.0f, 0.0f, 9.0f, -3.0f, 10.0f, -5.0f, 11.0f,
				-6.0f, 11.0f, -7.0f, 11.0f, -8.0f, 11.0f, -9.0f, 11.0f, -9.0f, 10.0f, -9.0f, 9.0f, -9.0f, 7.0f, -8.0f,
				6.0f, -7.0f, 4.0f, -6.0f, 2.0f, -4.0f, -1.0f, -3.0f, -3.0f, -1.0f, -6.0f, 0.0f, -8.0f, 1.0f, -11.0f,
				3.0f, -13.0f, 4.0f, -15.0f, 5.0f, -17.0f, 5.0f, -18.0f, 5.0f, -19.0f, 5.0f, -20.0f, 4.0f, -20.0f, 3.0f,
				-20.0f, 1.0f }, },
				{ "synth-8-20",
						new float[] { 0.0f, 924.0f, 4.0f, 302.0f, 8.0f, 174.0f, 12.0f, 118.0f, 16.0f, 84.0f, 19.0f,
								62.0f, 22.0f, 46.0f, 25.0f, 34.0f, 27.0f, 24.0f, 29.0f, 17.0f }, },
				{ "synth-8-40",
						new float[] { 30.0f, 11.0f, 31.0f, 6.0f, 31.0f, 2.0f, 31.0f, 0.0f, 30.0f, -2.0f, 29.0f, -3.0f,
								28.0f, -4.0f, 26.0f, -4.0f, 24.0f, -3.0f, 21.0f, -2.0f, 19.0f, -1.0f, 16.0f, 1.0f,
								13.0f, 2.0f, 10.0f, 4.0f, 7.0f, 6.0f, 4.0f, 7.0f, 2.0f, 9.0f, -1.0f, 10.0f, -3.0f,
								11.0f, -5.0f, 12.0f }, },
				{ "synth-8-50", new float[] { -6.0f, 12.0f, -7.0f, 12.0f, -8.0f, 12.0f, -9.0f, 11.0f, -9.0f, 10.0f,
						-8.0f, 9.0f, -8.0f, 7.0f, -7.0f, 5.0f, -6.0f, 3.0f, -5.0f, 1.0f, -3.0f, -1.0f, -2.0f, -4.0f,
						0.0f, -6.0f, 1.0f, -8.0f, 3.0f, -11.0f, 4.0f, -13.0f, 5.0f, -14.0f, 5.0f, -16.0f, 6.0f, -17.0f,
						6.0f, -18.0f, 5.0f, -19.0f, 4.0f, -19.0f, 3.0f, -19.0f, 1.0f, -18.0f, -2.0f, -17.0f }, },
				{ "synth-8-70", new float[] { -5.0f, -15.0f, -8.0f, -14.0f, -12.0f, -12.0f, -16.0f, -10.0f, -21.0f,
						-7.0f, -26.0f, -5.0f, -32.0f, -3.0f, -38.0f, -1.0f, -45.0f, 0.0f, -52.0f, 1.0f, -59.0f, 2.0f,
						-68.0f, 0.0f, -78.0f, -3.0f, -91.0f, -9.0f, -109.0f, -21.0f, -137.0f, -47.0f, -195.0f, -119.0f,
						-407.0f, -830.0f, 925.0f, 301.0f, 163.0f, 156.0f, 72.0f, 115.0f, 37.0f, 95.0f, 19.0f, 82.0f,
						9.0f, 73.0f, 3.0f, 65.0f, 0.0f, 58.0f, -2.0f, 52.0f, -2.0f, 46.0f, -1.0f, 41.0f, 0.0f, 35.0f,
						1.0f, 30.0f, 3.0f, 25.0f, 5.0f, 21.0f, 7.0f, 16.0f, 9.0f, 12.0f }, },
				{ "synth-16", new float[] { 0.0f, 1847.0f, 10.0f, 602.0f, 21.0f, 344.0f, 30.0f, 229.0f, 40.0f, 161.0f,
						48.0f, 116.0f, 55.0f, 84.0f, 61.0f, 59.0f, 65.0f, 40.0f, 69.0f, 26.0f, 71.0f, 15.0f, 71.0f,
						8.0f, 70.0f, 3.0f, 68.0f, 0.0f, 65.0f, -2.0f, 61.0f, -1.0f, 56.0f, 0.0f, 50.0f, 3.0f, 44.0f,
						6.0f, 38.0f, 10.0f, 32.0f, 14.0f, 25.0f, 17.0f, 20.0f, 21.0f, 14.0f, 24.0f, 9.0f, 27.0f, 5.0f,
						29.0f, 2.0f, 31.0f, -1.0f, 31.0f, -2.0f, 31.0f, -3.0f, 30.0f, -3.0f, 29.0f, -2.0f, 27.0f, -1.0f,
						24.0f, 1.0f, 21.0f, 3.0f, 18.0f, 5.0f, 14.0f, 8.0f, 11.0f, 11.0f, 7.0f, 13.0f, 4.0f, 15.0f,
						1.0f, 17.0f, -1.0f, 18.0f, -3.0f, 19.0f, -4.0f, 20.0f, -5.0f, 19.0f, -5.0f, 19.0f, -5.0f, 17.0f,
						-4.0f, 16.0f, -3.0f, 14.0f, -1.0f, 11.0f, 1.0f, 9.0f, 3.0f, 6.0f, 5.0f, 3.0f, 7.0f, 1.0f, 9.0f,
						-2.0f, 11.0f, -4.0f, 12.0f, -5.0f, 13.0f, -6.0f, 14.0f, -7.0f, 14.0f, -7.0f, 13.0f, -7.0f,
						12.0f, -7.0f, 11.0f, -5.0f, 9.0f, -4.0f, 7.0f, -2.0f, 5.0f, -1.0f, 3.0f, 1.0f, 0.0f, 3.0f,
						-2.0f, 5.0f, -4.0f, 7.0f, -6.0f, 8.0f, -8.0f, 9.0f, -9.0f, 10.0f, -10.0f, 10.0f, -10.0f, 10.0f,
						-10.0f, 9.0f, -10.0f, 8.0f, -9.0f, 6.0f, -7.0f, 4.0f, -6.0f, 2.0f, -4.0f, 0.0f, -2.0f, -2.0f,
						0.0f, -5.0f, 2.0f, -7.0f, 3.0f, -9.0f, 5.0f, -11.0f, 6.0f, -12.0f, 7.0f, -13.0f, 7.0f, -14.0f,
						7.0f, -14.0f, 6.0f, -14.0f, 5.0f, -13.0f, 4.0f, -12.0f, 2.0f, -10.0f, 0.0f, -8.0f, -3.0f, -6.0f,
						-6.0f, -4.0f, -8.0f, -2.0f, -11.0f, 0.0f, -13.0f, 2.0f, -16.0f, 3.0f, -18.0f, 4.0f, -19.0f,
						5.0f, -20.0f, 5.0f, -20.0f, 4.0f, -20.0f, 3.0f, -20.0f, 1.0f, -18.0f, -1.0f, -17.0f, -4.0f,
						-14.0f, -7.0f, -12.0f, -10.0f, -9.0f, -14.0f, -7.0f, -17.0f, -4.0f, -21.0f, -2.0f, -24.0f, 0.0f,
						-27.0f, 2.0f, -30.0f, 3.0f, -31.0f, 3.0f, -33.0f, 3.0f, -33.0f, 1.0f, -33.0f, -1.0f, -31.0f,
						-5.0f, -30.0f, -9.0f, -27.0f, -14.0f, -24.0f, -19.0f, -20.0f, -25.0f, -16.0f, -32.0f, -12.0f,
						-39.0f, -8.0f, -46.0f, -4.0f, -53.0f, -1.0f, -60.0f, 1.0f, -66.0f, 1.0f, -71.0f, 1.0f, -75.0f,
						-2.0f, -79.0f, -7.0f, -81.0f, -15.0f, -82.0f, -27.0f, -81.0f, -43.0f, -80.0f, -64.0f, -76.0f,
						-94.0f, -72.0f, -138.0f, -67.0f, -203.0f, -61.0f, -318.0f, -56.0f, -582.0f, -57.0f, -1963.0f,
						385.0f, 1686.0f, 1.0f, 599.0f, 2.0f, 358.0f, 10.0f, 247.0f, 18.0f, 180.0f, 27.0f, 135.0f, 35.0f,
						101.0f, 43.0f, 76.0f, 49.0f, 55.0f, 55.0f, 39.0f, 59.0f, 26.0f, 62.0f, 16.0f, 63.0f, 8.0f,
						63.0f, 3.0f, 62.0f, 0.0f, 60.0f, -2.0f, 57.0f, -2.0f, 53.0f, 0.0f, 48.0f, 2.0f, 43.0f, 5.0f,
						37.0f, 8.0f, 31.0f, 12.0f, 25.0f, 15.0f, 20.0f, 19.0f, 15.0f, 22.0f, 10.0f, 25.0f, 6.0f, 27.0f,
						2.0f, 29.0f, 0.0f, 30.0f, -2.0f, 30.0f, -3.0f, 29.0f, -3.0f, 28.0f, -3.0f, 26.0f, -2.0f, 24.0f,
						0.0f, 21.0f, 2.0f, 18.0f, 4.0f, 14.0f, 7.0f, 11.0f, 9.0f, 8.0f, 12.0f, 4.0f, 14.0f, 2.0f, 16.0f,
						-1.0f, 17.0f, -3.0f, 18.0f, -4.0f, 19.0f, -5.0f, 19.0f, -5.0f, 18.0f, -5.0f, 17.0f, -4.0f,
						16.0f, -3.0f, 14.0f, -2.0f, 11.0f, 0.0f, 9.0f, 2.0f, 6.0f, 4.0f, 4.0f, 6.0f, 1.0f, 8.0f, -1.0f,
						10.0f, -3.0f, 11.0f, -5.0f, 12.0f, -6.0f, 13.0f, -7.0f, 13.0f, -8.0f, 13.0f, -8.0f, 12.0f,
						-7.0f, 11.0f, -6.0f, 9.0f, -5.0f, 8.0f, -3.0f, 5.0f, -1.0f, 3.0f, 0.0f, 1.0f, 2.0f, -2.0f, 4.0f,
						-4.0f, 6.0f, -6.0f, 7.0f, -8.0f, 9.0f, -9.0f, 9.0f, -10.0f, 10.0f, -10.0f, 9.0f, -10.0f, 9.0f,
						-10.0f, 8.0f, -9.0f, 6.0f, -8.0f, 5.0f, -7.0f, 3.0f, -5.0f, 0.0f, -3.0f, -2.0f, -1.0f, -4.0f,
						1.0f, -7.0f, 3.0f, -9.0f, 4.0f, -11.0f, 5.0f, -12.0f, 6.0f, -14.0f, 7.0f, -14.0f, 7.0f, -15.0f,
						6.0f, -14.0f, 5.0f, -14.0f, 4.0f, -13.0f, 2.0f, -11.0f, 0.0f, -9.0f, -2.0f, -7.0f, -5.0f, -5.0f,
						-8.0f, -3.0f, -11.0f, -1.0f, -13.0f, 1.0f, -16.0f, 3.0f, -18.0f, 4.0f, -19.0f, 5.0f, -20.0f,
						5.0f, -21.0f, 4.0f, -21.0f, 3.0f, -21.0f, 2.0f, -19.0f, 0.0f, -18.0f, -3.0f, -16.0f, -6.0f,
						-13.0f, -10.0f, -11.0f, -13.0f, -8.0f, -17.0f, -5.0f, -21.0f, -3.0f, -24.0f, 0.0f, -28.0f, 1.0f,
						-30.0f, 3.0f, -33.0f, 3.0f, -34.0f, 3.0f, -35.0f, 1.0f, -35.0f, -1.0f, -34.0f, -4.0f, -32.0f,
						-8.0f, -30.0f, -13.0f, -26.0f, -19.0f, -23.0f, -25.0f, -19.0f, -33.0f, -14.0f, -40.0f, -10.0f,
						-48.0f, -6.0f, -56.0f, -3.0f, -63.0f, 0.0f, -71.0f, 1.0f, -77.0f, 1.0f, -83.0f, -1.0f, -88.0f,
						-6.0f, -93.0f, -15.0f, -96.0f, -27.0f, -98.0f, -45.0f, -99.0f, -72.0f, -99.0f, -111.0f, -99.0f,
						-172.0f, -100.0f, -281.0f, -107.0f, -540.0f, -142.0f, -2027.0f, 756.0f, 1491.0f, 24.0f, 574.0f,
						1.0f, 357.0f, 0.0f, 255.0f, 5.0f, 193.0f, 11.0f, 150.0f, 19.0f, 117.0f, 26.0f, 91.0f, 34.0f,
						69.0f, 40.0f, 52.0f, 46.0f, 37.0f, 51.0f, 26.0f, 54.0f, 16.0f, 56.0f, 9.0f, 57.0f, 4.0f, 57.0f,
						0.0f, 56.0f, -1.0f, 54.0f, -2.0f, 50.0f, -1.0f, 46.0f, 1.0f, 41.0f, 3.0f, 36.0f, 6.0f, 31.0f,
						10.0f, 25.0f, 13.0f, 20.0f, 17.0f, 15.0f, 20.0f, 10.0f, 23.0f, 6.0f, 25.0f, 3.0f, 27.0f, 0.0f,
						28.0f, -2.0f, 28.0f, -3.0f, 28.0f, -4.0f, 27.0f, -3.0f, 26.0f, -2.0f, 23.0f, -1.0f, 21.0f, 1.0f,
						18.0f, 3.0f, 15.0f, 6.0f, 11.0f, 8.0f, 8.0f, 11.0f, 5.0f, 13.0f, 2.0f, 15.0f, 0.0f, 16.0f,
						-2.0f, 18.0f, -4.0f, 18.0f, -5.0f, 18.0f, -6.0f, 18.0f, -5.0f, 17.0f, -5.0f, 16.0f, -4.0f,
						14.0f, -2.0f, 12.0f, -1.0f, 9.0f, 1.0f, 7.0f, 3.0f, 4.0f, 5.0f, 2.0f, 7.0f, -1.0f, 9.0f, -3.0f,
						11.0f, -5.0f, 12.0f, -6.0f, 13.0f, -7.0f, 13.0f, -8.0f, 13.0f, -8.0f, 12.0f, -7.0f, 11.0f,
						-7.0f, 10.0f, -5.0f, 8.0f, -4.0f, 6.0f, -2.0f, 4.0f, 0.0f, 1.0f, 2.0f, -1.0f, 3.0f, -3.0f, 5.0f,
						-6.0f, 7.0f, -7.0f, 8.0f, -9.0f, 9.0f, -10.0f, 9.0f, -11.0f, 9.0f, -11.0f, 9.0f, -11.0f, 8.0f,
						-10.0f, 7.0f, -9.0f, 5.0f, -7.0f, 3.0f, -6.0f, 1.0f, -4.0f, -2.0f, -2.0f, -4.0f, 0.0f, -6.0f,
						2.0f, -9.0f, 4.0f, -11.0f, 5.0f, -12.0f, 6.0f, -14.0f, 7.0f, -15.0f, 7.0f, -15.0f, 6.0f, -15.0f,
						6.0f, -14.0f, 4.0f, -13.0f, 3.0f, -12.0f, 0.0f, -10.0f, -2.0f, -8.0f, -5.0f, -6.0f, -8.0f,
						-4.0f, -10.0f, -2.0f, -13.0f, 0.0f, -16.0f, 2.0f, -18.0f, 3.0f, -20.0f, 4.0f, -21.0f, 5.0f,
						-22.0f, 4.0f, -22.0f, 4.0f, -22.0f, 2.0f, -21.0f }, },
				{ "synth-16-20",
						new float[] { 0.0f, 1847.0f, 10.0f, 602.0f, 21.0f, 344.0f, 30.0f, 229.0f, 40.0f, 161.0f, 48.0f,
								116.0f, 55.0f, 84.0f, 61.0f, 59.0f, 65.0f, 40.0f, 69.0f, 26.0f }, },
				{ "synth-16-40",
						new float[] { 71.0f, 15.0f, 71.0f, 8.0f, 70.0f, 3.0f, 68.0f, 0.0f, 65.0f, -2.0f, 61.0f, -1.0f,
								56.0f, 0.0f, 50.0f, 3.0f, 44.0f, 6.0f, 38.0f, 10.0f, 32.0f, 14.0f, 25.0f, 17.0f, 20.0f,
								21.0f, 14.0f, 24.0f, 9.0f, 27.0f, 5.0f, 29.0f, 2.0f, 31.0f, -1.0f, 31.0f, -2.0f, 31.0f,
								-3.0f, 30.0f }, },
				{ "synth-16-50",
						new float[] { -3.0f, 29.0f, -2.0f, 27.0f, -1.0f, 24.0f, 1.0f, 21.0f, 3.0f, 18.0f, 5.0f, 14.0f,
								8.0f, 11.0f, 11.0f, 7.0f, 13.0f, 4.0f, 15.0f, 1.0f, 17.0f, -1.0f, 18.0f, -3.0f, 19.0f,
								-4.0f, 20.0f, -5.0f, 19.0f, -5.0f, 19.0f, -5.0f, 17.0f, -4.0f, 16.0f, -3.0f, 14.0f,
								-1.0f, 11.0f, 1.0f, 9.0f, 3.0f, 6.0f, 5.0f, 3.0f, 7.0f, 1.0f, 9.0f, -2.0f, 11.0f }, },
				{ "synth-16-70",
						new float[] { -4.0f, 12.0f, -5.0f, 13.0f, -6.0f, 14.0f, -7.0f, 14.0f, -7.0f, 13.0f, -7.0f,
								12.0f, -7.0f, 11.0f, -5.0f, 9.0f, -4.0f, 7.0f, -2.0f, 5.0f, -1.0f, 3.0f, 1.0f, 0.0f,
								3.0f, -2.0f, 5.0f, -4.0f, 7.0f, -6.0f, 8.0f, -8.0f, 9.0f, -9.0f, 10.0f, -10.0f, 10.0f,
								-10.0f, 10.0f, -10.0f, 9.0f, -10.0f, 8.0f, -9.0f, 6.0f, -7.0f, 4.0f, -6.0f, 2.0f, -4.0f,
								0.0f, -2.0f, -2.0f, 0.0f, -5.0f, 2.0f, -7.0f, 3.0f, -9.0f, 5.0f, -11.0f, 6.0f, -12.0f,
								7.0f, -13.0f, 7.0f, -14.0f, 7.0f, -14.0f, 6.0f }, } });
	}

	public AudioReadTest(String input, float[] expectedResult) {
		this.input = input;
		this.expected = expectedResult;
	}

	@Test
	public void testAudioReadRawFormat() throws UnsupportedAudioFileException, IOException {
		String fileDir = "test-classes//expected//synth_wav//";
		float[] actualData = DataHandler.audioread(fileDir + input, "raw");
		assertArrayEquals(this.expected, actualData, 1e-2f);
	}

}
